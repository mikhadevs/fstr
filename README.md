# fstr
Требования к приложению:
Доработать текущую базу данных, разработать API для мобильного приложения.
Модератор будет проверять и вносить в базу данных информацию, полученную от пользователей, а те в свою очередь смогут увидеть в мобильном приложении статус модерации и просматривать базу с объектами, внесёнными другими.
___
Для пользователя в мобильном приложении будет доступно:

-Внесение информации о новом объекте (перевале) в карточку объекта.
-Редактирование в приложении неотправленных на сервер ФСТР данных об объектах. На перевале не всегда работает Интернет.
-Заполнение ФИО и контактных данных (телефон и электронная почта) с последующим их автозаполнением при внесении данных о новых объектах.
-Отправка данных на сервер ФСТР.
-Получение уведомления о статусе отправки (успешно/неуспешно).
-Согласие пользователя с политикой обработки персональных данных в случае нажатия на кнопку «Отправить» при отправке данных на сервер.
____
C помощью мобильного приложения пользователь будет передавать следующие данные:

-Координаты перевала и его высота;
-Имя пользователя;
-Почта и телефон пользователя;
-Название перевала;
-Фотографии перевала.
____

API:
___
  GET /api/submitData/ -  выводит информацию о всех объектах (перевалах).
____
  POST /api/submitData/ -  внесение информации о перевале
  
  Пример JSON:

  > {
  "count": 1,
  "next": null,
  "previous": null,
  "results": [
    {
      "id": 4,
      "status": "NW",
      "user": {
        "email": "dsfg@gmail.com",
        "fam": "11111",
        "name": "11111",
        "otc": "1111",
        "phone": "11111"
      },
      "date_added": "2023-12-25 18:32:43",
      "coords": {
        "latitude": 111.111,
        "longitude": 1111.11,
        "height": 1
      },
      "level": {
        "spring": "1a",
        "summer": "1a",
        "autumn": "1a",
        "winter": "1a"
      },
      "beauty_title": "gdfh",
      "title": "dfgh",
      "other_titles": "dfgh",
      "connect": "dfgh",
      "images": {}
    }
  ]
}


  > Результат: 

* status — код HTTP, целое число:
    * 500 — ошибка при выполнении операции;
    * 400 — Bad Request (несоответсвие полей);
    * 200 — успех.
* message — строка:
    * Причина ошибки (если она была);
    * Отправлено успешно;
    * Если отправка успешна, дополнительно возвращается id вставленной записи.
* id — идентификатор, который был присвоен объекту при добавлении в базу данных.
____
  GET /api/submitData/{id} - получение данных о конкретном горном перевале.
____
  PATCH /api/submitData/{id} - позволяет отредактировать существующую запись если она в статусе "новая".
  Редактировать можно все поля, кроме тех, что содержат ФИО, адрес почты и номер телефона.
____
  GET /api/submitData/user__email=<str:email> - позволяет получить данные всех объектов, отправленных на сервер пользователем с определенным почтовым ящиком.
  
  Список зависимостей в файле requirements.txt
______
Проект размещен на хостинге pythonanywhere.com:
http://1dminko.pythonanywhere.com/api/submitData/
 (в проекте используется база данных postgresql, на хостинге mysql)
___
 Документация Swagger:
http://1dminko.pythonanywhere.com/api/docs/
___
Документация Redoc:
http://1dminko.pythonanywhere.com/api/schema/redoc/